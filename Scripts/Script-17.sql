DROP TABLE BOARD;


CREATE TABLE BOARD(
BID NUMBER PRIMARY KEY,
BTITLE VARCHAR2(2000) NOT NULL,
BCONTENT VARCHAR2(4000),
BREGDATE TIMESTAMP
);

CREATE SEQUENCE SEQ_BOARD;


--한행의 데이터를 입력하는 프로시져

CREATE OR REPLACE PROCEDURE PROC_INSERT
(P_BTITLE IN BOARD.BTITLE%TYPE,
P_BCONTENT IN BOARD.BCONTENT%TYPE)
IS 
BEGIN 
	INSERT INTO BOARD
	VALUES(SEQ_BOARD.NEXTVAL,P_BTITLE,P_BCONTENT,SYSDATE);
END;

BEGIN PROC_INSERT('제목1','내용1');
END;
SELECT * FROM BOARD;
TRUNCATE TABLE BOARD;


-- 전체 행의 수를 반환하는 함수
CREATE OR REPLACE FUNCTION FUNC_COUNT
RETURN NUMBER 
IS 
V_COUNT NUMBER;
BEGIN
	SELECT COUNT(*)INTO V_COUNT 
	FROM BOARD;
	RETURN V_COUNT;
END;

--SELECT FUNC_COUNT FROM DUAL;


-- 한행의 데이터를ㄹ 입력한후에 전체 행의 수를 OUT파라미터로 전달하는 프로시져

CREATE OR REPLACE PROCEDURE PROC_INSERT2
(P_BTITLE IN BOARD.BTITLE%TYPE,
P_BCONTENT IN BOARD.BCONTENT%TYPE
,CNT OUT NUMBER)
IS 
BEGIN 
	INSERT INTO BOARD
	VALUES(SEQ_BOARD.NEXTVAL,P_BTITLE,P_BCONTENT,SYSDATE);
	SELECT COUNT(*)INTO CNT FROM BOARD;
END;
































